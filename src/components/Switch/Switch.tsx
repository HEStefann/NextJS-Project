"use client";
import { useState } from "react";
interface SwitchProps {
  id: string;
  initialState: boolean;
  onToggle: (state: boolean) => void;
}

export default function Switch({ id, initialState, onToggle }: SwitchProps) {
  const [enabled, setEnabled] = useState(initialState);

  const handleToggle = () => {
    const newState = !enabled;
    setEnabled(newState);
    onToggle(newState);
  };

  return (
    <div>
      <label
        htmlFor={id}
        className="flex cursor-pointer select-none items-center"
      >
        <div className="relative">
          <input
            type="checkbox"
            id={id}
            className="sr-only"
            checked={enabled}
            onChange={handleToggle}
          />
          <div>
            <span className={`hidden ${enabled && "!block"}`}>
              <svg
                width="46"
                height="26"
                viewBox="0 0 46 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="none"
              >
                <path
                  d="M12.5 25.5C9.02778 25.5 6.07639 24.2847 3.64583 21.8542C1.21528 19.4236 0 16.4722 0 13C0 9.52778 1.21528 6.57639 3.64583 4.14583C6.07639 1.71528 9.02778 0.5 12.5 0.5H33.3333C36.8056 0.5 39.7569 1.71528 42.1875 4.14583C44.6181 6.57639 45.8333 9.52778 45.8333 13C45.8333 16.4722 44.6181 19.4236 42.1875 21.8542C39.7569 24.2847 36.8056 25.5 33.3333 25.5H12.5ZM12.5 21.3333H33.3333C35.625 21.3333 37.5868 20.5174 39.2188 18.8854C40.8507 17.2535 41.6667 15.2917 41.6667 13C41.6667 10.7083 40.8507 8.74653 39.2188 7.11458C37.5868 5.48264 35.625 4.66667 33.3333 4.66667H12.5C10.2083 4.66667 8.24653 5.48264 6.61458 7.11458C4.98264 8.74653 4.16667 10.7083 4.16667 13C4.16667 15.2917 4.98264 17.2535 6.61458 18.8854C8.24653 20.5174 10.2083 21.3333 12.5 21.3333ZM12.5 19.25C14.2361 19.25 15.7118 18.6424 16.9271 17.4271C18.1424 16.2118 18.75 14.7361 18.75 13C18.75 11.2639 18.1424 9.78819 16.9271 8.57292C15.7118 7.35764 14.2361 6.75 12.5 6.75C10.7639 6.75 9.28819 7.35764 8.07292 8.57292C6.85764 9.78819 6.25 11.2639 6.25 13C6.25 14.7361 6.85764 16.2118 8.07292 17.4271C9.28819 18.6424 10.7639 19.25 12.5 19.25Z"
                  fill="#4F35B6"
                ></path>
              </svg>
            </span>
            <span className={`${enabled && "hidden"}`}>
              <svg
                width="46"
                height="26"
                viewBox="0 0 46 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="none"
              >
                <path
                  d="M33.334 0.5C36.8062 0.5 39.7576 1.71528 42.1882 4.14583C44.6187 6.57639 45.834 9.52778 45.834 13C45.834 16.4722 44.6187 19.4236 42.1882 21.8542C39.7576 24.2847 36.8062 25.5 33.334 25.5L12.5007 25.5C9.02843 25.5 6.07704 24.2847 3.64648 21.8542C1.21593 19.4236 0.000652313 16.4722 0.000652313 13C0.000652313 9.52778 1.21593 6.57639 3.64648 4.14583C6.07704 1.71528 9.02843 0.5 12.5007 0.5L33.334 0.5ZM33.334 4.66667L12.5007 4.66667C10.209 4.66667 8.24718 5.48264 6.61523 7.11458C4.98329 8.74653 4.16732 10.7083 4.16732 13C4.16732 15.2917 4.98329 17.2535 6.61523 18.8854C8.24718 20.5174 10.209 21.3333 12.5007 21.3333L33.334 21.3333C35.6257 21.3333 37.5875 20.5174 39.2194 18.8854C40.8513 17.2535 41.6673 15.2917 41.6673 13C41.6673 10.7083 40.8513 8.74653 39.2194 7.11458C37.5875 5.48264 35.6257 4.66667 33.334 4.66667ZM33.334 6.75C31.5979 6.75 30.1222 7.35764 28.9069 8.57292C27.6916 9.78819 27.084 11.2639 27.084 13C27.084 14.7361 27.6916 16.2118 28.9069 17.4271C30.1222 18.6424 31.5979 19.25 33.334 19.25C35.0701 19.25 36.5458 18.6424 37.7611 17.4271C38.9763 16.2118 39.584 14.7361 39.584 13C39.584 11.2639 38.9763 9.78819 37.7611 8.57292C36.5458 7.35764 35.0701 6.75 33.334 6.75Z"
                  fill="#4F35B6"
                ></path>
              </svg>
            </span>
          </div>
        </div>
      </label>
    </div>
  );
}
